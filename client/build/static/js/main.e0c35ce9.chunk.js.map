{"version":3,"sources":["reducers/alertReducer.js","reducers/authReducer.js","reducers/index.js","actions/types.js","store.js","utils/setAuthToken.js","actions/alertActions.js","actions/authActions.js","components/layouts/Navbar.js","components/layouts/NotFound.js","components/auth/Login.js","components/layouts/Alert.js","components/auth/Register.js","components/dashboard/index.js","components/routing/PrivateRoute.js","App.js","index.js"],"names":["initialState","token","localStorage","getItem","isAuthenticated","loading","user","combineReducers","alert","state","arguments","length","undefined","action","type","setAlert","alertId","concat","Object","toConsumableArray","filter","id","auth","payload","objectSpread","setItem","removeItem","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","apply","window","__REDUX_DEVTOOLS_EXTENSION__","setAuthToken","axios","defaults","headers","common","msg","alertType","timeout","dispatch","uuid","v4","setTimeout","loadUser","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","get","sent","data","t0","stop","_x","this","Navbar","_ref$auth","logout","react_default","createElement","className","onClick","href","react_router_dom","to","react","protoTypes","PropTypes","func","isRequired","object","connect","NotFound","Login","login","_useState","useState","email","password","_useState2","slicedToArray","formData","setFormData","onChange","e","defineProperty","target","name","value","onSubmit","_ref2","preventDefault","react_router","placeholder","protoType","bool","_ref4","_callee3","config","body","errors","_context3","Content-Type","JSON","stringify","post","response","forEach","error","_x3","register","_ref3","_callee2","_context2","_x2","password2","alerts","map","key","Dashboard","Component","component","rest","objectWithoutProperties","assign","render","props","App","useEffect","es","layouts_Navbar","layouts_Alert","exact","path","routing_PrivateRoute","ReactDOM","src_App","document","getElementById"],"mappings":"gQAEMA,EAAe,WCSfA,EAAe,CACnBC,MAAOC,aAAaC,QAAQ,SAC5BC,gBAAiB,KACjBC,SAAS,EACTC,KAAM,MCXOC,cAAgB,CAC7BC,MFDa,WAAuC,IAA9BC,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBV,EAAca,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC5CE,EAA4BD,EAA5BC,KAAMC,EAAsBF,EAAtBE,SAAUC,EAAYH,EAAZG,QACxB,OAAQF,GACN,IGJqB,YHKnB,SAAAG,OAAAC,OAAAC,EAAA,EAAAD,CAAWT,GAAX,CAAkBM,IACpB,IGLwB,eHMtB,OAAON,EAAMW,OAAO,SAAAZ,GAAK,OAAIA,EAAMa,KAAOL,IAC5C,QACE,OAAOP,IENXa,KDYa,WAAuC,IAA9Bb,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBV,EAAca,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC5CE,EAAkBD,EAAlBC,KAAMS,EAAYV,EAAZU,QAEd,OAAQT,GACN,IEXuB,cFYrB,OAAOI,OAAAM,EAAA,EAAAN,CAAA,GACFT,EADL,CAEEL,iBAAiB,EACjBC,SAAS,EACTC,KAAMiB,IAEV,IEpB4B,mBFqB5B,IEjByB,gBFmBvB,OADArB,aAAauB,QAAQ,QAASF,EAAQtB,OAC/BiB,OAAAM,EAAA,EAAAN,CAAA,GACFT,EACAc,EAFL,CAGEnB,iBAAiB,EACjBC,SAAS,IAEb,IE5ByB,gBF6BzB,IE3BsB,aF4BtB,IE1BsB,aF2BtB,IE1BkB,SF6BhB,OADAH,aAAawB,WAAW,SACjBR,OAAAM,EAAA,EAAAN,CAAA,GACFT,EADL,CAEER,MAAO,KACPG,iBAAiB,EACjBC,SAAS,EACTC,KAAK,OAET,QACE,OAAOG,MG9CPkB,EAAa,CAACC,KAWLC,EATDC,YACZC,EALmB,GAOnBC,YACEC,IAAeC,WAAf,EAAmBP,GACnBQ,OAAOC,8BAAgCD,OAAOC,yFCHnCC,EARM,SAAApC,GACfA,EACFqC,IAAMC,SAASC,QAAQC,OAAO,gBAAkBxC,SAEzCqC,IAAMC,SAASC,QAAQC,OAAO,kCCH5B1B,EAAW,SAAC2B,EAAKC,GAAN,IAAiBC,EAAjBlC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA2B,IAA3B,OAAoC,SAAAmC,GAC1D,IAAMxB,EAAKyB,IAAKC,KAChBF,EAAS,CACP/B,KHHqB,YGIrBC,SAAU,CAAE2B,MAAKC,YAAWtB,QAE9B2B,WAAW,kBAAMH,EAAS,CAAE/B,KHLF,eGKsBE,QAASK,KAAOuB,KCOrDK,EAAW,iCAAAC,EAAAhC,OAAAiC,EAAA,EAAAjC,CAAAkC,EAAAC,EAAAC,KAAM,SAAAC,EAAMV,GAAN,IAAAW,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACxB1D,aAAaD,OACfoC,EAAanC,aAAaD,OAFAyD,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAKRtB,IAAMuB,IAAI,aALF,OAKpBL,EALoBE,EAAAI,KAM1BjB,EAAS,CACP/B,KJZqB,cIarBS,QAASiC,EAAIO,OARWL,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAW1Bb,EAAS,CACP/B,KJhBoB,eIII,yBAAA4C,EAAAO,SAAAV,EAAA,iBAAN,gBAAAW,GAAA,OAAAhB,EAAAhB,MAAAiC,KAAAzD,YAAA,oBCVlB0D,EAAS,SAAAlB,GAAoD,IAAAmB,EAAAnB,EAAjD5B,KAAoCgD,GAAaD,EAAzCjE,gBAAyCiE,EAAxBhE,QAAwB6C,EAAboB,QAElDC,EAAAlB,EAAAmB,cAAA,MAAIC,UAAU,SACZF,EAAAlB,EAAAmB,cAAA,UACED,EAAAlB,EAAAmB,cAAA,KAAGE,QAASJ,EAAQK,KAAK,MAAzB,WAEFJ,EAAAlB,EAAAmB,cAAA,UACED,EAAAlB,EAAAmB,cAACI,EAAA,EAAD,CAAMC,GAAG,cAAT,eAKJN,EAAAlB,EAAAmB,cAAA,MAAIC,UAAU,SACZF,EAAAlB,EAAAmB,cAAA,UACED,EAAAlB,EAAAmB,cAACI,EAAA,EAAD,CAAMC,GAAG,UAAT,UAEFN,EAAAlB,EAAAmB,cAAA,UACED,EAAAlB,EAAAmB,cAACI,EAAA,EAAD,CAAMC,GAAG,aAAT,cAKN,OACEN,EAAAlB,EAAAmB,cAACM,EAAA,SAAD,KACEP,EAAAlB,EAAAmB,cAAA,WACED,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,eACbF,EAAAlB,EAAAmB,cAACI,EAAA,EAAD,CAAMC,GAAG,IAAIJ,UAAU,cAAvB,sBAaVL,EAAOW,WAAa,CAClBT,OAAQU,IAAUC,KAAKC,WACvB5D,KAAM0D,IAAUG,OAAOD,YAEVE,kBAPS,SAAA3E,GAAK,MAAK,CAChCa,KAAMb,EAAMa,OAQZ,CAAEgD,ODiDkB,kBAAM,SAAAzB,GAC1BA,EAAS,CAAE/B,KJtFS,cKkCPsE,CAGbhB,GCtCaiB,EAZE,WACf,OACEd,EAAAlB,EAAAmB,cAACM,EAAA,SAAD,KACEP,EAAAlB,EAAAmB,cAAA,WACED,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,eACbF,EAAAlB,EAAAmB,cAAA,uCCDJc,EAAQ,SAAApC,GAAgC,IAA7BqC,EAA6BrC,EAA7BqC,MAAOnF,EAAsB8C,EAAtB9C,gBAAsBoF,EACZC,mBAAS,CACvCC,MAAO,GACPC,SAAU,KAHgCC,EAAA1E,OAAA2E,EAAA,EAAA3E,CAAAsE,EAAA,GACrCM,EADqCF,EAAA,GAC3BG,EAD2BH,EAAA,GAMpCF,EAAoBI,EAApBJ,MAAOC,EAAaG,EAAbH,SAETK,EAAW,SAAAC,GAAC,OAChBF,EAAY7E,OAAAM,EAAA,EAAAN,CAAA,GAAK4E,EAAN5E,OAAAgF,EAAA,EAAAhF,CAAA,GAAiB+E,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,UAEjDC,EAAQ,eAAAC,EAAArF,OAAAiC,EAAA,EAAAjC,CAAAkC,EAAAC,EAAAC,KAAG,SAAAC,EAAM0C,GAAN,OAAA7C,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACfqC,EAAEO,iBACFjB,EAAOG,EAAOC,GAFC,wBAAAjC,EAAAO,SAAAV,MAAH,gBAAAW,GAAA,OAAAqC,EAAArE,MAAAiC,KAAAzD,YAAA,GAKd,OAAIN,EACKmE,EAAAlB,EAAAmB,cAACiC,EAAA,EAAD,CAAU5B,GAAG,eAGpBN,EAAAlB,EAAAmB,cAACM,EAAA,SAAD,KACEP,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,IACbF,EAAAlB,EAAAmB,cAAA,mBACAD,EAAAlB,EAAAmB,cAAA,QAAMC,UAAU,GAAG6B,SAAU,SAAAL,GAAC,OAAIK,EAASL,KACzC1B,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,IACbF,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,IACbF,EAAAlB,EAAAmB,cAAA,SACE6B,MAAOX,EACPU,KAAK,QACLtF,KAAK,QACL2D,UAAU,GACViC,YAAY,QACZV,SAAU,SAAAC,GAAC,OAAID,EAASC,QAI9B1B,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,IACbF,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,IACbF,EAAAlB,EAAAmB,cAAA,SACE6B,MAAOV,EACPS,KAAK,WACLtF,KAAK,WACL2D,UAAU,GACViC,YAAY,WACZV,SAAU,SAAAC,GAAC,OAAID,EAASC,QAI9B1B,EAAAlB,EAAAmB,cAAA,SAAO1D,KAAK,SAAS2D,UAAU,GAAG4B,MAAM,cAOlDf,EAAMqB,UAAY,CAChBpB,MAAOP,IAAUC,KAAKC,WACtB9E,gBAAiB4E,IAAU4B,MAG7B,IAIexB,cAJS,SAAA3E,GAAK,MAAK,CAChCL,gBAAiBK,EAAMa,KAAKlB,kBAK5B,CAAEmF,MHHiB,SAACG,EAAOC,GAAR,sBAAAkB,EAAA3F,OAAAiC,EAAA,EAAAjC,CAAAkC,EAAAC,EAAAC,KAAqB,SAAAwD,EAAMjE,GAAN,IAAAkE,EAAAC,EAAAxD,EAAAyD,EAAA,OAAA7D,EAAAC,EAAAI,KAAA,SAAAyD,GAAA,cAAAA,EAAAvD,KAAAuD,EAAAtD,MAAA,cAClCmD,EAAS,CACbvE,QAAS,CACP2E,eAAgB,qBAIdH,EAAOI,KAAKC,UAAU,CAAE3B,QAAOC,aAPGuB,EAAAvD,KAAA,EAAAuD,EAAAtD,KAAA,EAUpBtB,IAAMgF,KAAK,YAAaN,EAAMD,GAVV,OAUhCvD,EAVgC0D,EAAApD,KAWtCjB,EAAS,CACP/B,KJpEuB,gBIqEvBS,QAASiC,EAAIO,OAGflB,EAASI,KAhB6BiE,EAAAtD,KAAA,iBAAAsD,EAAAvD,KAAA,GAAAuD,EAAAlD,GAAAkD,EAAA,UAkB/BD,EAAUC,EAAAlD,GAAIuD,SAASxD,KAAvBkD,SAGLA,EAAOO,QAAQ,SAAAC,GAAK,OAAI5E,EAAS9B,EAAS0G,EAAM/E,IAAK,UAGvDG,EAAS,CACP/B,KJhFoB,eIuDgB,yBAAAoG,EAAAjD,SAAA6C,EAAA,kBAArB,gBAAAY,GAAA,OAAAb,EAAA3E,MAAAiC,KAAAzD,YAAA,KGCN0E,CAGbE,GCpDaF,GC+EAA,YAJS,SAAA3E,GAAK,MAAK,CAChCL,gBAAiBK,EAAMa,KAAKlB,kBAK5B,CAAEW,WAAU4G,SLpEU,SAAApB,GAAA,IAAGH,EAAHG,EAAGH,KAAMV,EAATa,EAASb,MAAOC,EAAhBY,EAAgBZ,SAAhB,sBAAAiC,EAAA1G,OAAAiC,EAAA,EAAAjC,CAAAkC,EAAAC,EAAAC,KAA+B,SAAAuE,EAAMhF,GAAN,IAAAkE,EAAAC,EAAAxD,EAAAyD,EAAA,OAAA7D,EAAAC,EAAAI,KAAA,SAAAqE,GAAA,cAAAA,EAAAnE,KAAAmE,EAAAlE,MAAA,cAC/CmD,EAAS,CACbvE,QAAS,CACP2E,eAAgB,qBAIdH,EAAOI,KAAKC,UAAU,CAAEjB,OAAMV,QAAOC,aAPUmC,EAAAnE,KAAA,EAAAmE,EAAAlE,KAAA,EAUjCtB,IAAMgF,KAAK,aAAcN,EAAMD,GAVE,OAU7CvD,EAV6CsE,EAAAhE,KAYnDjB,EAAS,CACP/B,KJtC0B,mBIuC1BS,QAASiC,EAAIO,OAGflB,EAASI,KAjB0C6E,EAAAlE,KAAA,iBAAAkE,EAAAnE,KAAA,GAAAmE,EAAA9D,GAAA8D,EAAA,UAmB3Cb,EAAWa,EAAA9D,GAAIuD,SAASxD,KAAxBkD,SAGNA,EAAOO,QAAQ,SAAAC,GAAK,OAAI5E,EAAS9B,EAAS0G,EAAM/E,IAAK,UAGvDG,EAAS,CACP/B,KJlDuB,kBIwB0B,yBAAAgH,EAAA7D,SAAA4D,EAAA,kBAA/B,gBAAAE,GAAA,OAAAH,EAAA1F,MAAAiC,KAAAzD,YAAA,KKkET0E,CA7FE,SAAAlC,GAA6C,IAA1CnC,EAA0CmC,EAA1CnC,SAAU4G,EAAgCzE,EAAhCyE,SAAUvH,EAAsB8C,EAAtB9C,gBAAsBoF,EAC5BC,mBAAS,CACvCW,KAAM,GACNV,MAAO,GACPC,SAAU,GACVqC,UAAW,KAL+CpC,EAAA1E,OAAA2E,EAAA,EAAA3E,CAAAsE,EAAA,GACrDM,EADqDF,EAAA,GAC3CG,EAD2CH,EAAA,GAQpDQ,EAAqCN,EAArCM,KAAMV,EAA+BI,EAA/BJ,MAAOC,EAAwBG,EAAxBH,SAAUqC,EAAclC,EAAdkC,UAEzBhC,EAAW,SAAAC,GAAC,OAChBF,EAAY7E,OAAAM,EAAA,EAAAN,CAAA,GAAK4E,EAAN5E,OAAAgF,EAAA,EAAAhF,CAAA,GAAiB+E,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,UAEjDC,EAAQ,eAAAC,EAAArF,OAAAiC,EAAA,EAAAjC,CAAAkC,EAAAC,EAAAC,KAAG,SAAAC,EAAM0C,GAAN,OAAA7C,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACfqC,EAAEO,iBACEb,IAAaqC,EACfjH,EAAS,yBAA0B,OAAQ,KAE3C4G,EAAS,CAAEvB,OAAMV,QAAOC,aALX,wBAAAjC,EAAAO,SAAAV,MAAH,gBAAAW,GAAA,OAAAqC,EAAArE,MAAAiC,KAAAzD,YAAA,GAQd,OAAIN,EACKmE,EAAAlB,EAAAmB,cAACiC,EAAA,EAAD,CAAU5B,GAAG,eAGpBN,EAAAlB,EAAAmB,cAACM,EAAA,SAAD,KACEP,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,OACbF,EAAAlB,EAAAmB,cAAA,QAAMC,UAAU,UAAU6B,SAAU,SAAAL,GAAC,OAAIK,EAASL,KAChD1B,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,OACbF,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,uBACbF,EAAAlB,EAAAmB,cAAA,SACE6B,MAAOD,EACPA,KAAK,OACLtF,KAAK,OACL2D,UAAU,WACViC,YAAY,OACZV,SAAU,SAAAC,GAAC,OAAID,EAASC,QAI9B1B,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,OACbF,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,uBACbF,EAAAlB,EAAAmB,cAAA,SACE6B,MAAOX,EACPU,KAAK,QACLtF,KAAK,QACL2D,UAAU,WACViC,YAAY,QACZV,SAAU,SAAAC,GAAC,OAAID,EAASC,QAI9B1B,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,OACbF,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,uBACbF,EAAAlB,EAAAmB,cAAA,SACE6B,MAAOV,EACPS,KAAK,WACLtF,KAAK,WACL2D,UAAU,WACViC,YAAY,WACZV,SAAU,SAAAC,GAAC,OAAID,EAASC,QAI9B1B,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,OACbF,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,uBACbF,EAAAlB,EAAAmB,cAAA,SACE6B,MAAO2B,EACP5B,KAAK,YACLtF,KAAK,WACL2D,UAAU,WACViC,YAAY,kBACZV,SAAU,SAAAC,GAAC,OAAID,EAASC,QAI9B1B,EAAAlB,EAAAmB,cAAA,SAAO1D,KAAK,SAAS2D,UAAU,MAAM4B,MAAM,kBD9DtCjB,YAJS,SAAA3E,GAAK,MAAK,CAChCwH,OAAQxH,EAAMD,QAGD4E,CAjBD,SAAAlC,GAAA,IAAG+E,EAAH/E,EAAG+E,OAAH,OACD,OAAXA,GACAA,EAAOtH,OAAS,GAChBsH,EAAOC,IAAI,SAAA1H,GAAK,OACd+D,EAAAlB,EAAAmB,cAAA,OAAK2D,IAAK3H,EAAMa,GAAIoD,UAAS,GAAAxD,OAAKT,EAAMmC,YACrCnC,EAAMkC,UELP0F,EAAY,SAAAlF,GAAoB,IAAX5C,EAAW4C,EAAlB5B,KAAOhB,KACzB,OACEiE,EAAAlB,EAAAmB,cAACM,EAAA,SAAD,KACEP,EAAAlB,EAAAmB,cAAA,uBACAD,EAAAlB,EAAAmB,cAAA,qBAAalE,GAAQA,EAAK8F,QAKhCgC,EAAUzB,UAAY,CACpBrF,KAAM0D,IAAUG,OAAOD,YAGzB,IAIeE,cAJS,SAAA3E,GAAK,MAAK,CAChCa,KAAMb,EAAMa,OAKZ,KAFa8D,CAGbgD,WCMahD,cAJS,SAAA3E,GAAK,MAAK,CAChCa,KAAMb,EAAMa,OAGC8D,CAzBM,SAAAlC,GAAA,IACRmF,EADQnF,EACnBoF,UADmBjE,EAAAnB,EAEnB5B,KAAQlB,EAFWiE,EAEXjE,gBAAiBC,EAFNgE,EAEMhE,QACtBkI,EAHgBrH,OAAAsH,EAAA,EAAAtH,CAAAgC,EAAA,6BAKnBqB,EAAAlB,EAAAmB,cAACiC,EAAA,EAADvF,OAAAuH,OAAA,GACMF,EADN,CAEEG,OAAQ,SAAAC,GAAK,OACVvI,GAAoBC,EAGnBkE,EAAAlB,EAAAmB,cAAC6D,EAAcM,GAFfpE,EAAAlB,EAAAmB,cAACiC,EAAA,EAAD,CAAU5B,GAAG,iBCGjB3E,aAAaD,OACfoC,EAAanC,aAAaD,OA4Bb2I,MA1Bf,WAIE,OAHAC,oBAAU,WACThH,EAAMgB,SAASI,MACb,IAEDsB,EAAAlB,EAAAmB,cAACsE,EAAA,EAAD,CAAUjH,MAAOA,GACf0C,EAAAlB,EAAAmB,cAACI,EAAA,EAAD,KACEL,EAAAlB,EAAAmB,cAACM,EAAA,SAAD,KACEP,EAAAlB,EAAAmB,cAAA,UAAQC,UAAU,cAChBF,EAAAlB,EAAAmB,cAACuE,EAAD,OAEFxE,EAAAlB,EAAAmB,cAAA,WAASC,UAAU,aACjBF,EAAAlB,EAAAmB,cAACwE,EAAD,MACAzE,EAAAlB,EAAAmB,cAACiC,EAAA,EAAD,KACElC,EAAAlB,EAAAmB,cAACiC,EAAA,EAAD,CAAOwC,OAAK,EAACC,KAAK,SAASZ,UAAWhD,IAEtCf,EAAAlB,EAAAmB,cAAC2E,EAAD,CAAcF,OAAK,EAACC,KAAK,aAAaZ,UAAWF,IACjD7D,EAAAlB,EAAAmB,cAACiC,EAAA,EAAD,CAAO6B,UAAWjD,UChChC+D,IAASV,OAAOnE,EAAAlB,EAAAmB,cAAC6E,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.e0c35ce9.chunk.js","sourcesContent":["import { SET_ALERT, REMOVE_ALERT } from '../actions/types';\r\n\r\nconst initialState = [];\r\n\r\nexport default function(state = initialState, action) {\r\n  const { type, setAlert, alertId } = action;\r\n  switch (type) {\r\n    case SET_ALERT:\r\n      return [...state, setAlert];\r\n    case REMOVE_ALERT:\r\n      return state.filter(alert => alert.id !== alertId);\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAIL,\r\n  USER_LOADED,\r\n  AUTH_ERROR,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGOUT,\r\n//   ACCOUNT_DELETED\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  token: localStorage.getItem('token'),\r\n  isAuthenticated: null,\r\n  loading: true,\r\n  user: null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case USER_LOADED:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        loading: false,\r\n        user: payload\r\n      };\r\n    case REGISTER_SUCCESS:\r\n    case LOGIN_SUCCESS:\r\n      localStorage.setItem('token', payload.token);\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n        isAuthenticated: true,\r\n        loading: false\r\n      };\r\n    case REGISTER_FAIL:\r\n    case AUTH_ERROR:\r\n    case LOGIN_FAIL:\r\n    case LOGOUT:\r\n    // case ACCOUNT_DELETED:\r\n      localStorage.removeItem('token');\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        isAuthenticated: false,\r\n        loading: false,\r\n        user:null\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport alertReducer from './alertReducer';\r\nimport authReducer from './authReducer';\r\n\r\nexport default combineReducers({\r\n  alert: alertReducer,\r\n  auth: authReducer,\r\n});\r\n","/**\r\n * Alert\r\n */\r\nexport const SET_ALERT = 'SET_ALERT';\r\nexport const REMOVE_ALERT = 'REMOVE_ALERT';\r\n\r\n/**\r\n * Auth\r\n */\r\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\r\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\r\nexport const USER_LOADED = 'USER_LOADED';\r\nexport const AUTH_ERROR = 'AUTH_ERROR';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\n\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;","import axios from 'axios';\r\n\r\nconst setAuthToken = token => {\r\n  if (token) {\r\n    axios.defaults.headers.common['x-auth-token'] = token;\r\n  } else {\r\n    delete axios.defaults.headers.common['x-auth-token'];\r\n  }\r\n};\r\n\r\nexport default setAuthToken;\r\n","import uuid from 'uuid';\r\nimport { SET_ALERT, REMOVE_ALERT } from './types';\r\n\r\nexport const setAlert = (msg, alertType, timeout = 5000) => dispatch => {\r\n  const id = uuid.v4();\r\n  dispatch({\r\n    type: SET_ALERT,\r\n    setAlert: { msg, alertType, id }\r\n  });\r\n  setTimeout(() => dispatch({ type: REMOVE_ALERT, alertId: id }), timeout);\r\n};\r\n","import {\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAIL,\r\n  USER_LOADED,\r\n  AUTH_ERROR,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGOUT\r\n} from './types';\r\nimport axios from 'axios';\r\nimport setAuthToken from '../utils/setAuthToken';\r\nimport { setAlert } from '../actions/alertActions';\r\n\r\n/**\r\n * @description Load user by token\r\n */\r\nexport const loadUser = () => async dispatch => {\r\n  if (localStorage.token) {\r\n    setAuthToken(localStorage.token);\r\n  }\r\n  try {\r\n    const res = await axios.get('/api/auth');\r\n    dispatch({\r\n      type: USER_LOADED,\r\n      payload: res.data\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: AUTH_ERROR\r\n    });\r\n  }\r\n};\r\n\r\n// Register User\r\nexport const register = ({ name, email, password }) => async dispatch => {\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  };\r\n\r\n  const body = JSON.stringify({ name, email, password });\r\n\r\n  try {\r\n    const res = await axios.post('/api/users', body, config);\r\n\r\n    dispatch({\r\n      type: REGISTER_SUCCESS,\r\n      payload: res.data\r\n    });\r\n\r\n    dispatch(loadUser());\r\n  } catch (err) {\r\n    const { errors } = err.response.data;\r\n\r\n    if (errors) {\r\n      errors.forEach(error => dispatch(setAlert(error.msg, 'red')));\r\n    }\r\n\r\n    dispatch({\r\n      type: REGISTER_FAIL\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * @description Login User\r\n */\r\n\r\nexport const login = (email, password) => async dispatch => {\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  };\r\n\r\n  const body = JSON.stringify({ email, password });\r\n\r\n  try {\r\n    const res = await axios.post('/api/auth', body, config);\r\n    dispatch({\r\n      type: LOGIN_SUCCESS,\r\n      payload: res.data\r\n    });\r\n\r\n    dispatch(loadUser());\r\n  } catch (err) {\r\n    const {errors} = err.response.data;\r\n\r\n    if (errors) {\r\n      errors.forEach(error => dispatch(setAlert(error.msg, 'red')));\r\n    }\r\n\r\n    dispatch({\r\n      type: LOGIN_FAIL\r\n    });\r\n  }\r\n};\r\n\r\n// Logout \r\nexport const logout = () => dispatch => {\r\n  dispatch({ type: LOGOUT });\r\n};\r\n","import React, {  Fragment } from 'react';\r\nimport { Link  } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../actions/authActions';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Navbar = ({ auth: { isAuthenticated, loading }, logout }) => {  \r\n  const authLinks = (\r\n    <ul className='right'>\r\n      <li>\r\n        <a onClick={logout} href='#!'>Logout</a>\r\n      </li>\r\n      <li>\r\n        <Link to='/Dashboard'>Dashboard</Link>\r\n      </li>\r\n    </ul>\r\n  );\r\n  const guestLinks = (\r\n    <ul className='right'>\r\n      <li>\r\n        <Link to='/login'>Login</Link>\r\n      </li>\r\n      <li>\r\n        <Link to='/Register'>Register</Link>\r\n      </li>\r\n    </ul>\r\n  );\r\n  \r\n  return (\r\n    <Fragment>\r\n      <nav>\r\n        <div className='nav-wrapper'>\r\n          <Link to='/' className='brand-logo'>\r\n            Amir Khakipour\r\n          </Link>\r\n          {/* {!loading && (<Fragment>{isAuthenticated?authLinks:guestLinks}</Fragment>)} */}\r\n        </div>\r\n      </nav>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\nNavbar.protoTypes = {\r\n  logout: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  { logout }\r\n)(Navbar);\r\n","import React, {Fragment} from 'react';\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <Fragment>\r\n      <nav>\r\n        <div className='nav-wrapper'>\r\n          <h1> 404 </h1>\r\n        </div>\r\n      </nav>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React, { Fragment, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../actions/authActions';\r\nimport PropTypes from 'prop-types';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nconst Login = ({ login, isAuthenticated }) => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\n  const { email, password } = formData;\r\n\r\n  const onChange = e =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    login( email, password );\r\n  };\r\n\r\n  if (isAuthenticated) {\r\n    return <Redirect to='/dashboard' />;\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <div className=''>\r\n        <h3>Login</h3>\r\n        <form className='' onSubmit={e => onSubmit(e)}>\r\n          <div className=''>\r\n            <div className=''>\r\n              <input\r\n                value={email}\r\n                name='email'\r\n                type='email'\r\n                className=''\r\n                placeholder='Email'\r\n                onChange={e => onChange(e)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=''>\r\n            <div className=''>\r\n              <input\r\n                value={password}\r\n                name='password'\r\n                type='password'\r\n                className=''\r\n                placeholder='Password'\r\n                onChange={e => onChange(e)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <input type='submit' className='' value='Login' />\r\n        </form>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nLogin.protoType = {\r\n  login: PropTypes.func.isRequired,\r\n  isAuthenticated: PropTypes.bool\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { login }\r\n)(Login);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nconst Alert = ({ alerts }) =>\r\n  alerts !== null &&\r\n  alerts.length > 0 &&\r\n  alerts.map(alert => (\r\n    <div key={alert.id} className={`${alert.alertType}`}>\r\n      {alert.msg}\r\n    </div>\r\n  ));\r\n\r\nAlert.propTypes = {\r\n  alerts: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  alerts: state.alert\r\n});\r\n\r\nexport default connect(mapStateToProps)(Alert);","import React, { Fragment, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setAlert } from '../../actions/alertActions';\r\nimport { register } from '../../actions/authActions';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst Register = ({ setAlert, register, isAuthenticated }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    password2: ''\r\n  });\r\n\r\n  const { name, email, password, password2 } = formData;\r\n\r\n  const onChange = e =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    if (password !== password2) {\r\n      setAlert('Passwords do not match', 'pink', 3000);\r\n    } else {\r\n      register({ name, email, password });\r\n    }\r\n  };\r\n  if (isAuthenticated) {\r\n    return <Redirect to='/dashboard' />;\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <div className='row'>\r\n        <form className='col s12' onSubmit={e => onSubmit(e)}>\r\n          <div className='row'>\r\n            <div className='input-field col s12'>\r\n              <input\r\n                value={name}\r\n                name='name'\r\n                type='text'\r\n                className='validate'\r\n                placeholder='Name'\r\n                onChange={e => onChange(e)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className='row'>\r\n            <div className='input-field col s12'>\r\n              <input\r\n                value={email}\r\n                name='email'\r\n                type='email'\r\n                className='validate'\r\n                placeholder='Email'\r\n                onChange={e => onChange(e)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className='row'>\r\n            <div className='input-field col s12'>\r\n              <input\r\n                value={password}\r\n                name='password'\r\n                type='password'\r\n                className='validate'\r\n                placeholder='Password'\r\n                onChange={e => onChange(e)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className='row'>\r\n            <div className='input-field col s12'>\r\n              <input\r\n                value={password2}\r\n                name='password2'\r\n                type='password'\r\n                className='validate'\r\n                placeholder='Repete Password'\r\n                onChange={e => onChange(e)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <input type='submit' className='btn' value='Register' />\r\n        </form>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nRegister.propTypes = {\r\n  setAlert: PropTypes.func.isRequired,\r\n  register: PropTypes.func.isRequired,\r\n  isAuthenticated: PropTypes.bool\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { setAlert, register }\r\n)(Register);\r\n","import React, {Fragment} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nconst Dashboard = ({auth: {user}}) => {\r\n  return (\r\n    <Fragment>\r\n      <h1>Dashboard</h1>\r\n      <h4>Welcome {user && user.name}</h4>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nDashboard.protoType = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(Dashboard);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  auth: { isAuthenticated, loading },\r\n  ...rest\r\n}) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      !isAuthenticated && !loading ? (\r\n        <Redirect to='/login' />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { Fragment,useEffect } from 'react';\r\nimport './App.css';\r\n//Redux\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\n//Router\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Navbar from './components/layouts/Navbar';\r\nimport NotFound from './components/layouts/NotFound';\r\nimport Login from './components/auth/Login';\r\nimport Register from './components/auth/Register';\r\nimport Alert from './components/layouts/Alert';\r\nimport setAuthToken from './utils/setAuthToken';\r\nimport {loadUser} from './actions/authActions'\r\nimport Dashboard from './components/dashboard';\r\nimport PrivateRoute from './components/routing/PrivateRoute';\r\n\r\nif (localStorage.token) {\r\n  setAuthToken(localStorage.token);\r\n}\r\nfunction App() {\r\n  useEffect(() => {\r\n   store.dispatch(loadUser())\r\n  }, [])\r\n  return (\r\n    <Provider store={store}>\r\n      <Router>\r\n        <Fragment>\r\n          <header className='App-header'>\r\n            <Navbar />\r\n          </header>\r\n          <section className='container'>\r\n            <Alert/>\r\n            <Switch>\r\n              <Route exact path='/login' component={Login} />\r\n              {/* <Route exact path='/register' component={Register} /> */}\r\n              <PrivateRoute exact path='/dashboard' component={Dashboard} />\r\n              <Route component={NotFound} />\r\n            </Switch>\r\n          </section>\r\n        </Fragment>\r\n      </Router>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n\r\n"],"sourceRoot":""}